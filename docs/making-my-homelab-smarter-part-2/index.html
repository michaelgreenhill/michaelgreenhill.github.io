<!DOCTYPE html><html lang="en"><head>

    <meta charset="utf-8">

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="11ty">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="description" content="IT and Photography">

<title>Making my homelab smarter - Part 2</title>

<link rel="preconnect" href="https://www.google-analytics.com/">
<link rel="preconnect" href="https://s3-ap-southeast-2.amazonaws.com/">


<link rel="stylesheet" type="text/css" href="/css/screen.css?v=ea37315572b4688ec79439d24377c5a1">
<link rel="stylesheet" type="text/css" href="/css/custom.css?v=475807f7da7529efb98b3a4eedbc742c">
<link rel="stylesheet" type="text/css" href="/css/prism-dracula.css?v=4520dcfe35ffae83c7c2e6cb6081528d">
<link rel="shortcut icon" href="/favicon.ico?v=1429123ad6a04f8249a06b6767130736" type="image/x-icon">

<link rel="alternate" type="application/atom+xml" title="Michael Greenhill" href="/feed.xml?v=84188a7642d00c14fefb5c6849eda9f6">



    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-97297631-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());

      gtag('config', 'UA-97297631-1');
    </script>

<script>
    if ("serviceWorker" in navigator) {
        navigator.serviceWorker.register("/service-worker.js");
    }
</script> 

    <link rel="canonical" href="https://michaelgreenhill.net/making-my-homelab-smarter-part-2/">

    <meta property="og:site_name" content="Michael Greenhill">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Making my homelab smarter - Part 2">
    <meta property="og:description" content="Get routed!">
    <meta property="og:url" content="https://michaelgreenhill.net/making-my-homelab-smarter-part-2/">
    <meta property="og:image" content="/images/1_1SYWH-QudwNvXrH1VUAlhw.png">
    <meta property="article:published_time" content="2020-01-07T11:00:00+11:00">
    <meta property="article:modified_time" content="2020-01-07T11:00:00+11:00">

    
    
    
    
      <meta property="article:tag" content="homelab">
    
    
    
      <meta property="article:tag" content="it">
    
    

    <meta property="article:publisher" content="https://facebook.com/aspect19">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Making my homelab smarter - Part 2">
    <meta name="twitter:description" content="Get routed!">
    <meta name="twitter:url" content="https://michaelgreenhill.net/making-my-homelab-smarter-part-2/">
    <meta name="twitter:image" content="/images/1_1SYWH-QudwNvXrH1VUAlhw.png">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Michael Greenhill">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="it, ddos, nginx">

    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Article",
        "publisher": {
          "@type": "Organization",
          "name": "Michael Greenhill",
          "logo": {
            "@type": "ImageObject",
            "url": "https://michaelgreenhill.net/favicon.ico",
            "width": 48,
            "height": 48
          }
        },
        "author": {
          "@type": "Person",
          "name": "Michael Greenhill",
          "image": {
            "@type": "ImageObject",
            "url": "https://s3-ap-southeast-2.amazonaws.com/michaelgreenhill-net/cdn/2020/02/download.png",
            "width": 500,
            "height": 500
          },
          "url": "https://michaelgreenhill.net/",
          "sameAs": []
        },
        "headline": "Making my homelab smarter - Part 2",
        "url": "https://michaelgreenhill.net/making-my-homelab-smarter-part-2/",
        "datePublished": "2020-01-07T11:00:00+11:00",
        "dateModified": "2020-01-07T11:00:00+11:00",
        "image": {
          "@type": "ImageObject",
          "url": "/images/1_1SYWH-QudwNvXrH1VUAlhw.png"
        },
        "keywords": "post,homelab,it",
        "description": "Get routed!",
        "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "https://michaelgreenhill.net/"
        }
      }
    </script>

  </head>
  <body class="post-template">

    <div class="site-wrapper">

      <header class="site-header">
        <div class="outer site-nav-main">
          <div class="inner">
            

<nav class="site-nav">
    <div class="site-nav-left-wrapper">
        <div class="site-nav-left">
            <a class="site-nav-logo" href="/">Michael Greenhill</a>
            <div class="site-nav-content">
                <ul class="nav" role="menu">
                    <li class="nav-home " role="menuitem">
                        <a href="/">Home</a>
                    </li>
                    <li class="nav-home " role="menuitem">
                        <a href="/about/">About</a>
                    </li>
                    <li class="nav-home " role="menuitem">
                        <a href="/archives/">Archives</a>
                    </li>
                    <li class="nav-home " role="menuitem">
                        <a href="/tags/">Tags</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            <a class="social-link social-link-fb" href="https://facebook.com/aspect19" title="Facebook" target="_blank" rel="noopener">
                <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                    <path d="M16 0c8.837 0 16 7.163 16 16s-7.163 16-16 16S0 24.837 0 16 7.163 0 16 0zm5.204 4.911h-3.546c-2.103 0-4.443.885-4.443 3.934.01 1.062 0 2.08 0 3.225h-2.433v3.872h2.509v11.147h4.61v-11.22h3.042l.275-3.81h-3.397s.007-1.695 0-2.187c0-1.205 1.253-1.136 1.329-1.136h2.054V4.911z"/>
                </svg>
            </a>
        </div>
    </div>
</nav>
          </div>
        </div>
      </header>

      <main id="site-main" class="site-main outer">
        <div class="inner">
          <article class="post-full post">
            <section class="post-full-content">
              <div class="post-header">
                <h1>Making my homelab smarter - Part 2</h1>

                
                <ol reversed class="taglist" style="counter-reset: start-from 4">




  <li>
    <a href="/tags/homelab" class="taglist-link">homelab</a>
  </li>



  <li>
    <a href="/tags/it" class="taglist-link">it</a>
  </li>


</ol>
                <span class="reading-time">About 3 min reading time</span>

              </div>

              
              <div class="heroimage" style="background-image: url(/images/1_1SYWH-QudwNvXrH1VUAlhw.png);"><div><picture><source srcset="/images/1_1SYWH-QudwNvXrH1VUAlhw.250.webp 250w, /images/1_1SYWH-QudwNvXrH1VUAlhw.400.webp 400w, /images/1_1SYWH-QudwNvXrH1VUAlhw.550.webp 550w, /images/1_1SYWH-QudwNvXrH1VUAlhw.700.webp 700w, /images/1_1SYWH-QudwNvXrH1VUAlhw.850.webp 850w, /images/1_1SYWH-QudwNvXrH1VUAlhw.1000.webp 1000w, /images/1_1SYWH-QudwNvXrH1VUAlhw.1150.webp 1150w, /images/1_1SYWH-QudwNvXrH1VUAlhw.1300.webp 1300w, /images/1_1SYWH-QudwNvXrH1VUAlhw.1450.webp 1450w, /images/1_1SYWH-QudwNvXrH1VUAlhw.1500.webp 1500w" sizes="100vw" type="image/webp"><source srcset="/images/1_1SYWH-QudwNvXrH1VUAlhw.250.png 250w, /images/1_1SYWH-QudwNvXrH1VUAlhw.400.png 400w, /images/1_1SYWH-QudwNvXrH1VUAlhw.550.png 550w, /images/1_1SYWH-QudwNvXrH1VUAlhw.700.png 700w, /images/1_1SYWH-QudwNvXrH1VUAlhw.850.png 850w, /images/1_1SYWH-QudwNvXrH1VUAlhw.1000.png 1000w, /images/1_1SYWH-QudwNvXrH1VUAlhw.1150.png 1150w, /images/1_1SYWH-QudwNvXrH1VUAlhw.1300.png 1300w, /images/1_1SYWH-QudwNvXrH1VUAlhw.1450.png 1450w, /images/1_1SYWH-QudwNvXrH1VUAlhw.1500.png 1500w" sizes="100vw" type="image/png"><img src="/images/1_1SYWH-QudwNvXrH1VUAlhw.png" height="694.6107784431138" width="1500" loading="lazy"></picture></div></div>
              

              <div class="post-content">
                <p class="subtitle">Get routed!</p>
                
                <aside class="post-aside">
                  <strong>Contents</strong>
                  <nav class="toc"><ol><li><a href="#why-should-i-care-about-pfsense%3F">Why should I care about pfSense?</a></li><li><a href="#give-me-that-sweet-wan">Give me that sweet WAN</a><ol><li><a href="#so-what-does-multi-wan-look-like%3F">So what does multi-WAN look like?</a></li></ol></li><li><a href="#those-were-pretty-pictures%2C-now-what%3F">Those were pretty pictures, now what?</a><ol><li><a href="#tying-it-all-together-with-a-bow">Tying it all together with a bow</a></li></ol></li></ol></nav>
                </aside>
                <p>Back in <a href="/making-my-homelab-smarter-part-1/">Part 1</a> I waffled on about the sad state of my internet and what I intended to do about it.</p>
<h2 id="why-should-i-care-about-pfsense%3F">Why should I care about pfSense? <a class="anchor-link" href="#why-should-i-care-about-pfsense%3F">#</a></h2>
<p>Well, in my case, it comes down to a few choice points:</p>
<ul>
<li>Multi-WAN that actually works as it&#x2019;s supposed to</li>
<li>Policy-based routing</li>
<li>Security in a world of IoT nonsense</li>
<li>IPv6</li>
<li>Observability</li>
</ul>
<p>It&#x2019;s also open-source and built on FreeBSD &#x2014; both a bonus from cost and security perspectives.</p>
<h2 id="give-me-that-sweet-wan">Give me that sweet WAN <a class="anchor-link" href="#give-me-that-sweet-wan">#</a></h2>
<p><em>For the uninitiated, &#x201C;WAN&#x201D; refers to &#x201C;Wide Area Network&#x201D;. It&#x2019;s a fancy way of saying &#x201C;internet&#x201D;.</em></p>
<p>In terms of actual internet connections I have:</p>
<ul>
<li>Internode Naked ADSL2, maxing out at 4mbps down and 400kbps up</li>
<li>Optus 4G with a 500gb data cap</li>
</ul>
<p>So until NBN finally kicks down my door and shoves a 100mbps pipe of memes into my network, I have to make do with a balance of ADSL and 4G.</p>
<h3 id="so-what-does-multi-wan-look-like%3F">So what does multi-WAN look like? <a class="anchor-link" href="#so-what-does-multi-wan-look-like%3F">#</a></h3>
<ul>
<li>Some things should only ever go via ADSL</li>
<li>Some things should only ever go via 4G</li>
<li>Some things should try to go via ADSL and failover to 4G, and</li>
<li>Some things should try to go via 4G and failover to ADSL</li>
<li>Some things should load balance across ADSL and 4G</li>
</ul>
<p>For example; my ADSL connection can happily stream Netflix, Stan, Amazon Prime, YouTube etc. to my 55&quot; TV with &#x201C;good enough&#x201D; quality. Therefore, that traffic should only ever go via ADSL, so I don&#x2019;t blow out my data usage in one binge session of The Witcher (toss a coin, yeah?)</p>
<p>Conversely, low-latency traffic (RDP, SSH) should go via 4G, to stop me from throwing expensive IT equipment in frustration.</p>
<p><picture><source srcset="/images/1_1SYWH-QudwNvXrH1VUAlhw.250.webp 250w, /images/1_1SYWH-QudwNvXrH1VUAlhw.400.webp 400w, /images/1_1SYWH-QudwNvXrH1VUAlhw.550.webp 550w, /images/1_1SYWH-QudwNvXrH1VUAlhw.700.webp 700w, /images/1_1SYWH-QudwNvXrH1VUAlhw.850.webp 850w, /images/1_1SYWH-QudwNvXrH1VUAlhw.1000.webp 1000w, /images/1_1SYWH-QudwNvXrH1VUAlhw.1150.webp 1150w, /images/1_1SYWH-QudwNvXrH1VUAlhw.1300.webp 1300w, /images/1_1SYWH-QudwNvXrH1VUAlhw.1450.webp 1450w, /images/1_1SYWH-QudwNvXrH1VUAlhw.1500.webp 1500w" sizes="100vw" type="image/webp"><source srcset="/images/1_1SYWH-QudwNvXrH1VUAlhw.250.png 250w, /images/1_1SYWH-QudwNvXrH1VUAlhw.400.png 400w, /images/1_1SYWH-QudwNvXrH1VUAlhw.550.png 550w, /images/1_1SYWH-QudwNvXrH1VUAlhw.700.png 700w, /images/1_1SYWH-QudwNvXrH1VUAlhw.850.png 850w, /images/1_1SYWH-QudwNvXrH1VUAlhw.1000.png 1000w, /images/1_1SYWH-QudwNvXrH1VUAlhw.1150.png 1150w, /images/1_1SYWH-QudwNvXrH1VUAlhw.1300.png 1300w, /images/1_1SYWH-QudwNvXrH1VUAlhw.1450.png 1450w, /images/1_1SYWH-QudwNvXrH1VUAlhw.1500.png 1500w" sizes="100vw" type="image/png"><img src="/images/1_1SYWH-QudwNvXrH1VUAlhw.png" alt="Don&#x2019;t you go peeping and my IPs, ya hear me" height="694.6107784431138" width="1500" loading="lazy"></picture></p>
<p>Don&#x2019;t you go peeping and my IPs, ya hear me!</p>
<p>From here I&#x2019;ve put the gateways into gateway groups &#x2014; these control failover and load balancing.</p>
<p><picture><source srcset="/images/1_bJgTd-LKMdIrIIVdCkLPng.250.webp 250w, /images/1_bJgTd-LKMdIrIIVdCkLPng.400.webp 400w, /images/1_bJgTd-LKMdIrIIVdCkLPng.550.webp 550w, /images/1_bJgTd-LKMdIrIIVdCkLPng.700.webp 700w, /images/1_bJgTd-LKMdIrIIVdCkLPng.850.webp 850w, /images/1_bJgTd-LKMdIrIIVdCkLPng.1000.webp 1000w, /images/1_bJgTd-LKMdIrIIVdCkLPng.1150.webp 1150w, /images/1_bJgTd-LKMdIrIIVdCkLPng.1300.webp 1300w, /images/1_bJgTd-LKMdIrIIVdCkLPng.1450.webp 1450w, /images/1_bJgTd-LKMdIrIIVdCkLPng.1500.webp 1500w" sizes="100vw" type="image/webp"><source srcset="/images/1_bJgTd-LKMdIrIIVdCkLPng.250.png 250w, /images/1_bJgTd-LKMdIrIIVdCkLPng.400.png 400w, /images/1_bJgTd-LKMdIrIIVdCkLPng.550.png 550w, /images/1_bJgTd-LKMdIrIIVdCkLPng.700.png 700w, /images/1_bJgTd-LKMdIrIIVdCkLPng.850.png 850w, /images/1_bJgTd-LKMdIrIIVdCkLPng.1000.png 1000w, /images/1_bJgTd-LKMdIrIIVdCkLPng.1150.png 1150w, /images/1_bJgTd-LKMdIrIIVdCkLPng.1300.png 1300w, /images/1_bJgTd-LKMdIrIIVdCkLPng.1450.png 1450w, /images/1_bJgTd-LKMdIrIIVdCkLPng.1500.png 1500w" sizes="100vw" type="image/png"><img src="/images/1_bJgTd-LKMdIrIIVdCkLPng.png" alt="Annoyingly, IPv6 duplicates everything" height="693.0758988015979" width="1500" loading="lazy"></picture></p>
<p>Annoyingly, IPv6 duplicates everything.</p>
<p>We can visualise the failover and gateway preference via the Status &gt; Gateways page:</p>
<p><picture><source srcset="/images/1_jDsM0PU32ro6rXQDrUweDg.250.webp 250w, /images/1_jDsM0PU32ro6rXQDrUweDg.400.webp 400w, /images/1_jDsM0PU32ro6rXQDrUweDg.550.webp 550w, /images/1_jDsM0PU32ro6rXQDrUweDg.700.webp 700w, /images/1_jDsM0PU32ro6rXQDrUweDg.850.webp 850w, /images/1_jDsM0PU32ro6rXQDrUweDg.1000.webp 1000w, /images/1_jDsM0PU32ro6rXQDrUweDg.1008.webp 1008w" sizes="100vw" type="image/webp"><source srcset="/images/1_jDsM0PU32ro6rXQDrUweDg.250.png 250w, /images/1_jDsM0PU32ro6rXQDrUweDg.400.png 400w, /images/1_jDsM0PU32ro6rXQDrUweDg.550.png 550w, /images/1_jDsM0PU32ro6rXQDrUweDg.700.png 700w, /images/1_jDsM0PU32ro6rXQDrUweDg.850.png 850w, /images/1_jDsM0PU32ro6rXQDrUweDg.1000.png 1000w, /images/1_jDsM0PU32ro6rXQDrUweDg.1008.png 1008w" sizes="100vw" type="image/png"><img src="/images/1_jDsM0PU32ro6rXQDrUweDg.png" alt="A bug in pfSense shows the IPv6 gateways as &#x201C;Gathering data&#x201D; here, but elsewhere they are &#x201C;Online&#x201D;" height="976" width="1008" loading="lazy"></picture></p>
<h2 id="those-were-pretty-pictures%2C-now-what%3F">Those were pretty pictures, now what? <a class="anchor-link" href="#those-were-pretty-pictures%2C-now-what%3F">#</a></h2>
<p>Well, next we need to tell pfSense what should go out via those gateways. As much as I&#x2019;d like to shout &#x201C;OK pfSense, send all Netflix through ADSL&#x201D; it&#x2019;s just not that clever. Yet.</p>
<p>The next best thing would be to create a firewall rule for anything going to <a href="http://netflix.com">netflix.com</a>. Unfortunately, that won&#x2019;t work. Because Netflix is so massive and <a href="https://variety.com/2019/digital/news/netflix-loses-title-top-downstream-bandwidth-application-1203330313/">consumes 12.9% of all internet</a> traffic &#x2014; think about that, for a minute &#x2014; it has a huge content delivery network, with its Open Connect peering injecting cake videos straight to the ISP networks. It&#x2019;s also mercurial &#x2014; servers that are up one minute are downed the next, thanks to Chaos Monkey.</p>
<p>And since this needs to be a <strong>reliable</strong> and <strong>dependable</strong> routing solution, the best approach is to apply the rule to the client. In other words, <strong>all traffic</strong> from my TV and my Chromecast should go via the ADSL gateway. We accomplish this via a firewall alias:</p>
<p><picture><source srcset="/images/1_GUXrZ862oho5ams1IXC-QQ.250.webp 250w, /images/1_GUXrZ862oho5ams1IXC-QQ.400.webp 400w, /images/1_GUXrZ862oho5ams1IXC-QQ.550.webp 550w, /images/1_GUXrZ862oho5ams1IXC-QQ.700.webp 700w, /images/1_GUXrZ862oho5ams1IXC-QQ.850.webp 850w, /images/1_GUXrZ862oho5ams1IXC-QQ.1000.webp 1000w, /images/1_GUXrZ862oho5ams1IXC-QQ.1150.webp 1150w, /images/1_GUXrZ862oho5ams1IXC-QQ.1300.webp 1300w, /images/1_GUXrZ862oho5ams1IXC-QQ.1450.webp 1450w, /images/1_GUXrZ862oho5ams1IXC-QQ.1500.webp 1500w" sizes="100vw" type="image/webp"><source srcset="/images/1_GUXrZ862oho5ams1IXC-QQ.250.png 250w, /images/1_GUXrZ862oho5ams1IXC-QQ.400.png 400w, /images/1_GUXrZ862oho5ams1IXC-QQ.550.png 550w, /images/1_GUXrZ862oho5ams1IXC-QQ.700.png 700w, /images/1_GUXrZ862oho5ams1IXC-QQ.850.png 850w, /images/1_GUXrZ862oho5ams1IXC-QQ.1000.png 1000w, /images/1_GUXrZ862oho5ams1IXC-QQ.1150.png 1150w, /images/1_GUXrZ862oho5ams1IXC-QQ.1300.png 1300w, /images/1_GUXrZ862oho5ams1IXC-QQ.1450.png 1450w, /images/1_GUXrZ862oho5ams1IXC-QQ.1500.png 1500w" sizes="100vw" type="image/png"><img src="/images/1_GUXrZ862oho5ams1IXC-QQ.png" alt="For testing purposes, I&#x2019;m allowing these devices to fall back to 4G" height="589.214380825566" width="1500" loading="lazy"></picture></p>
<p>For testing purposes, I&#x2019;m allowing these devices to fall back to 4G.</p>
<h3 id="tying-it-all-together-with-a-bow">Tying it all together with a bow <a class="anchor-link" href="#tying-it-all-together-with-a-bow">#</a></h3>
<p>Finally, we create a firewall rule to route this traffic accordingly.</p>
<p>Specifying the source as our firewall alias and our destination as &#x201C;http_ports&#x201D; (another alias of ports 80 and 443)&#x2026;</p>
<p><picture><source srcset="/images/1_9AvJ0Ndfdt9huSSxk8aDaA.250.webp 250w, /images/1_9AvJ0Ndfdt9huSSxk8aDaA.400.webp 400w, /images/1_9AvJ0Ndfdt9huSSxk8aDaA.550.webp 550w, /images/1_9AvJ0Ndfdt9huSSxk8aDaA.700.webp 700w, /images/1_9AvJ0Ndfdt9huSSxk8aDaA.850.webp 850w, /images/1_9AvJ0Ndfdt9huSSxk8aDaA.956.webp 956w" sizes="100vw" type="image/webp"><source srcset="/images/1_9AvJ0Ndfdt9huSSxk8aDaA.250.png 250w, /images/1_9AvJ0Ndfdt9huSSxk8aDaA.400.png 400w, /images/1_9AvJ0Ndfdt9huSSxk8aDaA.550.png 550w, /images/1_9AvJ0Ndfdt9huSSxk8aDaA.700.png 700w, /images/1_9AvJ0Ndfdt9huSSxk8aDaA.850.png 850w, /images/1_9AvJ0Ndfdt9huSSxk8aDaA.956.png 956w" sizes="100vw" type="image/png"><img src="/images/1_9AvJ0Ndfdt9huSSxk8aDaA.png" alt="All streaming services run over HTTPS, so we can limit the rule to just these ports" height="853" width="956" loading="lazy"></picture></p>
<p>All streaming services run over HTTPS, so we can limit the rule to just these ports</p>
<p>Next, we specify the gateway group&#x2026;</p>
<p><picture><source srcset="/images/1_KJ9g0FvxpORAhJSvSKAcOw.250.webp 250w, /images/1_KJ9g0FvxpORAhJSvSKAcOw.400.webp 400w, /images/1_KJ9g0FvxpORAhJSvSKAcOw.550.webp 550w, /images/1_KJ9g0FvxpORAhJSvSKAcOw.700.webp 700w, /images/1_KJ9g0FvxpORAhJSvSKAcOw.850.webp 850w, /images/1_KJ9g0FvxpORAhJSvSKAcOw.952.webp 952w" sizes="100vw" type="image/webp"><source srcset="/images/1_KJ9g0FvxpORAhJSvSKAcOw.250.png 250w, /images/1_KJ9g0FvxpORAhJSvSKAcOw.400.png 400w, /images/1_KJ9g0FvxpORAhJSvSKAcOw.550.png 550w, /images/1_KJ9g0FvxpORAhJSvSKAcOw.700.png 700w, /images/1_KJ9g0FvxpORAhJSvSKAcOw.850.png 850w, /images/1_KJ9g0FvxpORAhJSvSKAcOw.952.png 952w" sizes="100vw" type="image/png"><img src="/images/1_KJ9g0FvxpORAhJSvSKAcOw.png" alt="This image has no caption. Surprise!" height="730" width="952" loading="lazy"></picture></p>
<p>&#x2026;and hey, presto! We have a policy-based route that directs all traffic from my TV and from my Chromecast, over ports 80 and 443, out through the ADSL router.</p>
<p>Yeah, it&#x2019;s not quite the most elegant solution, but it&#x2019;s a <strong>simple solution</strong>.</p>
<hr>
<p>But your default gateway is WAN_PPPOE?</p>
<p>Yeah, you saw that huh? Yes, the above example is theoretically useless because, unless otherwise instructed by a firewall rule, <strong>all traffic</strong> will go out via the ADSL link. But that&#x2019;s just this point in time. By the time this series is finished, I hope to have my 4G link set up as my default route, either implicitly via discrete firewall rules as I&#x2019;ve just demonstrated, or explicitly via the default gateway option.</p>

              </div>
            </section>
          </article>
        </div>
      </main>

      <aside class="read-next outer"></aside>

      <footer class="site-footer outer">
    <div class="inner">
        <p>The views on this website are entirely my own and do not reflect those of my employer, my country, or the small alien that controls this flesh prison.</p>
        <p>All text copyright &#xA9; Michael Greenhill.</p>
    </div>
</footer>

    </div>
  
</body></html>